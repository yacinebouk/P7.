{"ast":null,"code":"var _jsxFileName = \"/home/yacboukhari/Projects/P7./frontend/src/components/auth/FormLogin.js\",\n  _s = $RefreshSig$();\nimport { React, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUser, faEnvelope, faLock, faEyeSlash, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport illustration from \"../../assets/img/ill-login.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormLogin = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleLogin = e => {\n    e.preventDefault();\n    const errorMessage = document.querySelector(\".error-message\");\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}/api/auth/login`,\n      withCredentials: true,\n      data: {\n        email,\n        password\n      }\n    }).then(() => {\n      window.location = \"/dashboard\";\n    }).catch(_ref => {\n      let {\n        response: err\n      } = _ref;\n      console.log(err);\n      if (err.data.message) {\n        errorMessage.innerHTML = err.data.message;\n      }\n    });\n  };\n  const [type, setType] = useState(\"password\");\n  const [icon, setIcon] = useState(faEyeSlash);\n  const handleTogglePassword = () => {\n    if (type === \"password\") {\n      setIcon(faEye);\n      setType(\"text\");\n    } else {\n      setIcon(faEyeSlash);\n      setType(\"password\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"ctn-illust\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: illustration,\n          alt: \"illustration d'une \\xE9quipe de travail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-ctn\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          method: \"post\",\n          onSubmit: handleLogin,\n          id: \"login-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-user\",\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"icon-form\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faEnvelope\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              id: \"email\",\n              placeholder: \"Adresse email\",\n              onChange: e => setEmail(e.target.value),\n              value: email,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                className: \"icon-form\",\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faLock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: type,\n                name: \"password\",\n                id: \"password\",\n                placeholder: \"Mot de passe\",\n                onChange: e => setPassword(e.target.value),\n                value: password,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: icon,\n                onClick: handleTogglePassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message error\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-ctn\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Se connecter\",\n              className: \"btn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Pas encore inscrit ?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                className: \"link\",\n                to: \"/inscription\",\n                children: \"S'inscrire\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(FormLogin, \"osU2bhpDHJfEWYPX6+fcwgD+RoQ=\");\n_c = FormLogin;\nexport default FormLogin;\nvar _c;\n$RefreshReg$(_c, \"FormLogin\");","map":{"version":3,"names":["React","useState","NavLink","axios","FontAwesomeIcon","faUser","faEnvelope","faLock","faEyeSlash","faEye","illustration","FormLogin","email","setEmail","password","setPassword","handleLogin","e","preventDefault","errorMessage","document","querySelector","method","url","process","env","REACT_APP_API_URL","withCredentials","data","then","window","location","catch","response","err","console","log","message","innerHTML","type","setType","icon","setIcon","handleTogglePassword","target","value"],"sources":["/home/yacboukhari/Projects/P7./frontend/src/components/auth/FormLogin.js"],"sourcesContent":["import { React, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUser,\n  faEnvelope,\n  faLock,\n  faEyeSlash,\n  faEye,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport illustration from \"../../assets/img/ill-login.png\";\n\nconst FormLogin = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    const errorMessage = document.querySelector(\".error-message\");\n\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}/api/auth/login`,\n      withCredentials: true,\n      data: {\n        email,\n        password,\n      },\n    })\n      .then(() => {\n        window.location = \"/dashboard\";\n      })\n      .catch(({ response: err }) => {\n        console.log(err)\n        if (err.data.message) {\n          errorMessage.innerHTML = err.data.message;\n        }\n      });\n  };\n\n  const [type, setType] = useState(\"password\");\n  const [icon, setIcon] = useState(faEyeSlash);\n\n  const handleTogglePassword = () => {\n    if (type === \"password\") {\n      setIcon(faEye);\n      setType(\"text\");\n    } else {\n      setIcon(faEyeSlash);\n      setType(\"password\");\n    }\n  };\n\n  return (\n    <div>\n      <main>\n        <section className=\"ctn-illust\">\n          <img src={illustration} alt=\"illustration d'une Ã©quipe de travail\" />\n        </section>\n        <section className=\"form-ctn\">\n          <form action=\"\" method=\"post\" onSubmit={handleLogin} id=\"login-form\">\n            <div className=\"icon-user\">\n              <FontAwesomeIcon icon={faUser} />\n            </div>\n            <div className=\"input-form\">\n              <label htmlFor=\"email\" className=\"icon-form\">\n                <FontAwesomeIcon icon={faEnvelope} />\n              </label>\n              <input\n                type=\"text\"\n                name=\"email\"\n                id=\"email\"\n                placeholder=\"Adresse email\"\n                onChange={(e) => setEmail(e.target.value)}\n                value={email}\n                required\n              />\n            </div>\n            <br />\n            <div>\n              <div className=\"input-form\">\n                <label htmlFor=\"password\" className=\"icon-form\">\n                  <FontAwesomeIcon icon={faLock} />\n                </label>\n                <input\n                  type={type}\n                  name=\"password\"\n                  id=\"password\"\n                  placeholder=\"Mot de passe\"\n                  onChange={(e) => setPassword(e.target.value)}\n                  value={password}\n                  required\n                />\n                <FontAwesomeIcon icon={icon} onClick={handleTogglePassword} />\n              </div>\n              <div className=\"error-message error\"></div>\n            </div>\n            <div className=\"btn-ctn\">\n              <input type=\"submit\" value=\"Se connecter\" className=\"btn\" />\n              <div className=\"flex\">\n                <p>Pas encore inscrit ?</p>\n                <NavLink className=\"link\" to=\"/inscription\">\n                  S'inscrire\n                </NavLink>\n              </div>\n            </div>\n          </form>\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default FormLogin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}